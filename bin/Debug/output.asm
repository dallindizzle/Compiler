ZERO .INT 0
ONE .INT 1
A0 .INT 1
A1 .INT 0
A2 .INT -99
N15 .INT 0
N20 .INT 1
N23 .INT 2
H42 .BYT '>'
H43 .BYT 10
N46 .INT 5
N47 .INT -1
N51 .INT 3
H56 .BYT '='
H57 .BYT '@'
N61 .INT 9
LDR R0 A2
MOV R1 FP
MOV FP SP
ADI SP -4
STR R1 SP
ADI SP -4
STR R0 SP
ADI SP -4
MOV R0 PC
ADI R0 36
STR R0 FP
JMP F33
TRP 0
X7 ADI SP -0
MOV R0 FP
ADI R0 -8
LDR R0 R0
MOV R1 FP
MOV FP SP
ADI SP -4
STR R1 SP
ADI SP -4
STR R0 SP
ADI SP -4
MOV R0 PC
ADI R0 36
STR R0 FP
JMP S0
MOV SP FP
MOV R0 FP
ADI R0 -8
LDR R1 R0
LDR R2 FP
MOV R3 FP
ADI R3 -4
LDR FP R3
STR R1 SP
JMR R2
M8 ADI SP -24
MOV R0 FP
ADI R0 -12
LDR R1 R0
MOV R2 FP
ADI R2 -16
LDR R3 R2
DIV R1 R3
MOV R4 FP
ADI R4 -24
STR R1 R4
MOV R0 FP
ADI R0 -20
MOV R1 FP
ADI R1 -24
LDR R2 R1
STR R2 R0
MOV R0 FP
ADI R0 -16
LDR R1 R0
MOV R2 FP
ADI R2 -20
LDR R3 R2
MUL R1 R3
MOV R4 FP
ADI R4 -28
STR R1 R4
MOV R0 FP
ADI R0 -12
LDR R1 R0
MOV R2 FP
ADI R2 -28
LDR R3 R2
SUB R1 R3
MOV R4 FP
ADI R4 -32
STR R1 R4
MOV R0 FP
ADI R0 -20
MOV R1 FP
ADI R1 -32
LDR R2 R1
STR R2 R0
MOV SP FP
MOV R0 FP
ADI R0 -20
LDR R1 R0
LDR R2 FP
MOV R3 FP
ADI R3 -4
LDR FP R3
STR R1 SP
JMR R2
MOV SP FP
LDR R0 FP
MOV R1 FP
ADI R1 -4
LDR FP R1
JMR R0
M12 ADI SP -20
MOV R0 FP
ADI R0 -16
LDR R1 R0
LDR R2 N15
CMP R1 R2
BRZ R1 L1
LDR R3 ZERO
MOV R4 FP
ADI R4 -20
STR R3 R4
JMP L2
L1 LDR R3 ONE
MOV R5 FP
ADI R5 -20
STR R3 R5
L2 MOV R0 FP
ADI R0 -20
LDR R1 R0
BRZ R1 SKIPIF1
MOV SP FP
MOV R0 FP
ADI R0 -12
LDR R1 R0
LDR R2 FP
MOV R3 FP
ADI R3 -4
LDR FP R3
STR R1 SP
JMR R2
SKIPIF1 MOV R0 FP
ADI R0 -8
LDR R0 R0
MOV R1 FP
MOV FP SP
ADI SP -4
STR R1 SP
ADI SP -4
STR R0 SP
ADI SP -4
MOV R0 FP
ADI R0 -4
LDR R1 R0
ADI R1 -12
LDR R2 R1
STR R2 SP
ADI SP -4
MOV R0 FP
ADI R0 -4
LDR R1 R0
ADI R1 -16
LDR R2 R1
STR R2 SP
ADI SP -4
MOV R0 PC
ADI R0 36
STR R0 FP
JMP M8
MOV R2 FP
ADI R2 -24
LDR R1 SP
STR R1 R2
MOV R0 FP
ADI R0 -8
LDR R0 R0
MOV R1 FP
MOV FP SP
ADI SP -4
STR R1 SP
ADI SP -4
STR R0 SP
ADI SP -4
MOV R0 FP
ADI R0 -4
LDR R1 R0
ADI R1 -16
LDR R2 R1
STR R2 SP
ADI SP -4
MOV R0 FP
ADI R0 -4
LDR R1 R0
ADI R1 -24
LDR R2 R1
STR R2 SP
ADI SP -4
MOV R0 PC
ADI R0 36
STR R0 FP
JMP M12
MOV R2 FP
ADI R2 -28
LDR R1 SP
STR R1 R2
MOV SP FP
MOV R0 FP
ADI R0 -28
LDR R1 R0
LDR R2 FP
MOV R3 FP
ADI R3 -4
LDR FP R3
STR R1 SP
JMR R2
MOV SP FP
LDR R0 FP
MOV R1 FP
ADI R1 -4
LDR FP R1
JMR R0
M16 ADI SP -32
MOV R0 FP
ADI R0 -12
LDR R1 R0
LDR R2 N15
CMP R1 R2
BRZ R1 L3
LDR R3 ZERO
MOV R4 FP
ADI R4 -16
STR R3 R4
JMP L4
L3 LDR R3 ONE
MOV R5 FP
ADI R5 -16
STR R3 R5
L4 MOV R0 FP
ADI R0 -16
LDR R1 R0
BRZ R1 SKIPIF2
MOV SP FP
LDR R0 N15
LDR R1 FP
MOV R2 FP
ADI R2 -4
LDR FP R2
STR R0 SP
JMR R1
JMP SKIPELSE3
SKIPIF2 MOV R0 FP
ADI R0 -12
LDR R1 R0
LDR R2 N20
CMP R1 R2
BRZ R1 L5
LDR R3 ZERO
MOV R4 FP
ADI R4 -20
STR R3 R4
JMP L6
L5 LDR R3 ONE
MOV R5 FP
ADI R5 -20
STR R3 R5
L6 MOV R0 FP
ADI R0 -20
LDR R1 R0
BRZ R1 SKIPIF4
MOV SP FP
LDR R0 N20
LDR R1 FP
MOV R2 FP
ADI R2 -4
LDR FP R2
STR R0 SP
JMR R1
JMP SKIPELSE3
SKIPIF4 MOV R0 FP
ADI R0 -12
LDR R1 R0
LDR R2 N20
SUB R1 R2
MOV R3 FP
ADI R3 -24
STR R1 R3
MOV R0 FP
ADI R0 -8
LDR R0 R0
MOV R1 FP
MOV FP SP
ADI SP -4
STR R1 SP
ADI SP -4
STR R0 SP
ADI SP -4
MOV R0 FP
ADI R0 -4
LDR R1 R0
ADI R1 -24
LDR R2 R1
STR R2 SP
ADI SP -4
MOV R0 PC
ADI R0 36
STR R0 FP
JMP M16
MOV R2 FP
ADI R2 -28
LDR R1 SP
STR R1 R2
MOV R0 FP
ADI R0 -12
LDR R1 R0
LDR R2 N23
SUB R1 R2
MOV R3 FP
ADI R3 -32
STR R1 R3
MOV R0 FP
ADI R0 -8
LDR R0 R0
MOV R1 FP
MOV FP SP
ADI SP -4
STR R1 SP
ADI SP -4
STR R0 SP
ADI SP -4
MOV R0 FP
ADI R0 -4
LDR R1 R0
ADI R1 -32
LDR R2 R1
STR R2 SP
ADI SP -4
MOV R0 PC
ADI R0 36
STR R0 FP
JMP M16
MOV R2 FP
ADI R2 -36
LDR R1 SP
STR R1 R2
MOV R0 FP
ADI R0 -28
LDR R1 R0
MOV R2 FP
ADI R2 -36
LDR R3 R2
ADD R1 R3
MOV R4 FP
ADI R4 -40
STR R1 R4
MOV SP FP
MOV R0 FP
ADI R0 -40
LDR R1 R0
LDR R2 FP
MOV R3 FP
ADI R3 -4
LDR FP R3
STR R1 SP
JMR R2
SKIPELSE3 MOV SP FP
LDR R0 FP
MOV R1 FP
ADI R1 -4
LDR FP R1
JMR R0
M24 ADI SP -24
MOV R0 FP
ADI R0 -12
LDR R1 R0
LDR R2 N20
CMP R1 R2
BRZ R1 L7
LDR R3 ZERO
MOV R4 FP
ADI R4 -20
STR R3 R4
JMP L8
L7 LDR R3 ONE
MOV R5 FP
ADI R5 -20
STR R3 R5
L8 MOV R0 FP
ADI R0 -20
LDR R1 R0
BRZ R1 SKIPIF6
MOV SP FP
LDR R0 N20
LDR R1 FP
MOV R2 FP
ADI R2 -4
LDR FP R2
STR R0 SP
JMR R1
SKIPIF6 MOV R0 FP
ADI R0 -12
LDR R1 R0
LDR R2 N20
SUB R1 R2
MOV R3 FP
ADI R3 -24
STR R1 R3
MOV R0 FP
ADI R0 -8
LDR R0 R0
MOV R1 FP
MOV FP SP
ADI SP -4
STR R1 SP
ADI SP -4
STR R0 SP
ADI SP -4
MOV R0 FP
ADI R0 -4
LDR R1 R0
ADI R1 -24
LDR R2 R1
STR R2 SP
ADI SP -4
MOV R0 PC
ADI R0 36
STR R0 FP
JMP M24
MOV R2 FP
ADI R2 -28
LDR R1 SP
STR R1 R2
MOV R0 FP
ADI R0 -28
LDR R1 R0
MOV R2 FP
ADI R2 -12
LDR R3 R2
MUL R1 R3
MOV R4 FP
ADI R4 -32
STR R1 R4
MOV R0 FP
ADI R0 -16
MOV R1 FP
ADI R1 -32
LDR R2 R1
STR R2 R0
MOV SP FP
MOV R0 FP
ADI R0 -16
LDR R1 R0
LDR R2 FP
MOV R3 FP
ADI R3 -4
LDR FP R3
STR R1 SP
JMR R2
MOV SP FP
LDR R0 FP
MOV R1 FP
ADI R1 -4
LDR FP R1
JMR R0
M30 ADI SP -8
MOV R0 FP
ADI R0 -12
LDR R1 R0
LDR R2 N20
ADD R1 R2
MOV R3 FP
ADI R3 -16
STR R1 R3
MOV SP FP
MOV R0 FP
ADI R0 -16
LDR R1 R0
LDR R2 FP
MOV R3 FP
ADI R3 -4
LDR FP R3
STR R1 SP
JMR R2
MOV SP FP
LDR R0 FP
MOV R1 FP
ADI R1 -4
LDR FP R1
JMR R0
S0 ADI SP -0
MOV SP FP
LDR R0 FP
MOV R1 FP
ADI R1 -4
LDR FP R1
JMR R0
F33 ADI SP -132
MOV R0 FP
ADI R0 -32
LDR R1 N23
STR R1 R0
MOV R0 SL
ADI SL 12
MOV R1 FP
ADI R1 -40
STR R0 R1
MOV R0 FP
ADI R0 -40
LDR R1 R0
MOV R2 FP
MOV FP SP
ADI SP -4
STR R2 SP
ADI SP -4
STR R1 SP
ADI SP -4
MOV R0 PC
ADI R0 36
STR R0 FP
JMP X7
MOV R2 FP
ADI R2 -44
LDR R1 SP
STR R1 R2
MOV R0 FP
ADI R0 -36
MOV R1 FP
ADI R1 -44
LDR R2 R1
STR R2 R0
LDB R0 H42
MOV R3 R0
TRP 3
MOV R0 FP
ADI R0 -12
TRP 2
STR R3 R0
LDB R0 H43
MOV R3 R0
TRP 3
BEGIN7 MOV R0 FP
ADI R0 -12
LDR R1 R0
LDR R2 N15
CMP R1 R2
BNZ R1 L9
LDR R3 ZERO
MOV R4 FP
ADI R4 -48
STR R3 R4
JMP L10
L9 LDR R3 ONE
MOV R5 FP
ADI R5 -48
STR R3 R5
L10 MOV R0 FP
ADI R0 -48
LDR R1 R0
BRZ R1 ENDWHILE8
MOV R0 FP
ADI R0 -12
LDR R1 R0
LDR R2 N15
CMP R1 R2
BLT R1 L11
LDR R3 ZERO
MOV R4 FP
ADI R4 -52
STR R3 R4
JMP L12
L11 LDR R3 ONE
MOV R5 FP
ADI R5 -52
STR R3 R5
L12 MOV R0 FP
ADI R0 -52
LDR R1 R0
BRZ R1 SKIPIF9
MOV R0 FP
ADI R0 -12
LDR R1 R0
LDR R2 N47
MUL R1 R2
MOV R3 FP
ADI R3 -56
STR R1 R3
LDR R0 N46
MOV R1 FP
ADI R1 -56
LDR R2 R1
ADD R0 R2
MOV R3 FP
ADI R3 -60
STR R0 R3
MOV R0 FP
ADI R0 -60
LDR R1 R0
MOV R2 FP
ADI R2 -32
LDR R3 R2
SUB R1 R3
MOV R4 FP
ADI R4 -64
STR R1 R4
MOV R0 FP
ADI R0 -12
MOV R1 FP
ADI R1 -64
LDR R2 R1
STR R2 R0
MOV R0 FP
ADI R0 -28
LDR R1 N15
STR R1 R0
BEGIN10 MOV R0 FP
ADI R0 -12
LDR R1 R0
LDR R2 N15
CMP R1 R2
BGT R1 L13
LDR R3 ZERO
MOV R4 FP
ADI R4 -68
STR R3 R4
JMP L14
L13 LDR R3 ONE
MOV R5 FP
ADI R5 -68
STR R3 R5
L14 MOV R0 FP
ADI R0 -68
LDR R1 R0
BRZ R1 ENDWHILE11
MOV R0 FP
ADI R0 -16
MOV R1 FP
ADI R1 -12
LDR R2 R1
STR R2 R0
BEGIN12 MOV R0 FP
ADI R0 -16
LDR R1 R0
LDR R2 N15
CMP R1 R2
BGT R1 L15
LDR R3 ZERO
MOV R4 FP
ADI R4 -72
STR R3 R4
JMP L16
L15 LDR R3 ONE
MOV R5 FP
ADI R5 -72
STR R3 R5
L16 MOV R0 FP
ADI R0 -72
LDR R1 R0
BRZ R1 ENDWHILE13
MOV R0 FP
ADI R0 -16
LDR R1 R0
LDR R2 N51
DIV R1 R2
MOV R3 FP
ADI R3 -76
STR R1 R3
MOV R0 FP
ADI R0 -76
LDR R1 R0
LDR R2 N15
CMP R1 R2
BRZ R1 L17
LDR R3 ZERO
MOV R4 FP
ADI R4 -80
STR R3 R4
JMP L18
L17 LDR R3 ONE
MOV R5 FP
ADI R5 -80
STR R3 R5
L18 MOV R0 FP
ADI R0 -80
LDR R1 R0
BRZ R1 SKIPIF14
MOV R0 FP
ADI R0 -28
LDR R1 R0
MOV R2 FP
ADI R2 -16
LDR R3 R2
ADD R1 R3
MOV R4 FP
ADI R4 -84
STR R1 R4
MOV R0 FP
ADI R0 -28
MOV R1 FP
ADI R1 -84
LDR R2 R1
STR R2 R0
SKIPIF14 MOV R0 FP
ADI R0 -16
LDR R1 R0
LDR R2 N20
SUB R1 R2
MOV R3 FP
ADI R3 -88
STR R1 R3
MOV R0 FP
ADI R0 -16
MOV R1 FP
ADI R1 -88
LDR R2 R1
STR R2 R0
JMP BEGIN12
ENDWHILE13 MOV R0 FP
ADI R0 -12
LDR R1 R0
LDR R2 N20
SUB R1 R2
MOV R3 FP
ADI R3 -92
STR R1 R3
MOV R0 FP
ADI R0 -12
MOV R1 FP
ADI R1 -92
LDR R2 R1
STR R2 R0
JMP BEGIN10
ENDWHILE11 MOV R0 FP
ADI R0 -28
LDR R1 R0
MOV R3 R1
TRP 1
LDB R0 H43
MOV R3 R0
TRP 3
JMP SKIPELSE15
SKIPIF9 MOV R0 FP
ADI R0 -36
LDR R1 R0
MOV R2 FP
MOV FP SP
ADI SP -4
STR R2 SP
ADI SP -4
STR R1 SP
ADI SP -4
MOV R0 FP
ADI R0 -4
LDR R1 R0
ADI R1 -12
LDR R2 R1
STR R2 SP
ADI SP -4
MOV R0 PC
ADI R0 36
STR R0 FP
JMP M24
MOV R2 FP
ADI R2 -100
LDR R1 SP
STR R1 R2
MOV R0 FP
ADI R0 -20
MOV R1 FP
ADI R1 -100
LDR R2 R1
STR R2 R0
MOV R0 FP
ADI R0 -36
LDR R1 R0
MOV R2 FP
MOV FP SP
ADI SP -4
STR R2 SP
ADI SP -4
STR R1 SP
ADI SP -4
MOV R0 FP
ADI R0 -4
LDR R1 R0
ADI R1 -12
LDR R2 R1
STR R2 SP
ADI SP -4
MOV R0 PC
ADI R0 36
STR R0 FP
JMP M16
MOV R2 FP
ADI R2 -108
LDR R1 SP
STR R1 R2
MOV R0 FP
ADI R0 -24
MOV R1 FP
ADI R1 -108
LDR R2 R1
STR R2 R0
MOV R0 FP
ADI R0 -36
LDR R1 R0
MOV R2 FP
MOV FP SP
ADI SP -4
STR R2 SP
ADI SP -4
STR R1 SP
ADI SP -4
MOV R0 FP
ADI R0 -4
LDR R1 R0
ADI R1 -20
LDR R2 R1
STR R2 SP
ADI SP -4
MOV R0 FP
ADI R0 -4
LDR R1 R0
ADI R1 -24
LDR R2 R1
STR R2 SP
ADI SP -4
MOV R0 PC
ADI R0 36
STR R0 FP
JMP M12
MOV R2 FP
ADI R2 -116
LDR R1 SP
STR R1 R2
MOV R0 FP
ADI R0 -28
MOV R1 FP
ADI R1 -116
LDR R2 R1
STR R2 R0
MOV R0 FP
ADI R0 -28
LDR R1 R0
MOV R3 R1
TRP 1
LDB R0 H56
MOV R3 R0
TRP 3
MOV R0 FP
ADI R0 -20
LDR R1 R0
MOV R3 R1
TRP 1
LDB R0 H57
MOV R3 R0
TRP 3
MOV R0 FP
ADI R0 -24
LDR R1 R0
MOV R3 R1
TRP 1
LDB R0 H43
MOV R3 R0
TRP 3
SKIPELSE15 LDB R0 H42
MOV R3 R0
TRP 3
MOV R0 FP
ADI R0 -12
TRP 2
STR R3 R0
LDB R0 H43
MOV R3 R0
TRP 3
JMP BEGIN7
ENDWHILE8 MOV R0 FP
ADI R0 -36
LDR R1 R0
MOV R2 FP
MOV FP SP
ADI SP -4
STR R2 SP
ADI SP -4
STR R1 SP
ADI SP -4
LDR R0 N61
STR R0 SP
ADI SP -4
MOV R0 PC
ADI R0 36
STR R0 FP
JMP M24
MOV R2 FP
ADI R2 -132
LDR R1 SP
STR R1 R2
MOV R0 FP
ADI R0 -36
LDR R1 R0
MOV R2 FP
MOV FP SP
ADI SP -4
STR R2 SP
ADI SP -4
STR R1 SP
ADI SP -4
MOV R0 FP
ADI R0 -4
LDR R1 R0
ADI R1 -132
LDR R2 R1
STR R2 SP
ADI SP -4
MOV R0 PC
ADI R0 36
STR R0 FP
JMP M30
MOV R2 FP
ADI R2 -136
LDR R1 SP
STR R1 R2
MOV R0 FP
ADI R0 -36
LDR R1 R0
MOV R2 FP
MOV FP SP
ADI SP -4
STR R2 SP
ADI SP -4
STR R1 SP
ADI SP -4
MOV R0 FP
ADI R0 -4
LDR R1 R0
ADI R1 -136
LDR R2 R1
STR R2 SP
ADI SP -4
MOV R0 PC
ADI R0 36
STR R0 FP
JMP M30
MOV R2 FP
ADI R2 -140
LDR R1 SP
STR R1 R2
MOV R0 FP
ADI R0 -140
LDR R1 R0
MOV R3 R1
TRP 1
LDB R0 H43
MOV R3 R0
TRP 3
MOV SP FP
LDR R0 FP
MOV R1 FP
ADI R1 -4
LDR FP R1
JMR R0
