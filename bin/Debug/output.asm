ZERO .INT 0
ONE .INT 1
A0 .INT 1
A1 .INT 0
A2 .INT -99
H9 .BYT 10
N16 .INT 5
N19 .INT 10
N20 .INT 1
LDR R0 A2
MOV R1 FP
MOV FP SP
ADI SP -4
STR R1 SP
ADI SP -4
STR R0 SP
ADI SP -4
MOV R0 PC
ADI R0 36
STR R0 FP
JMP F14
TRP 0
X4 ADI SP -12
MOV R0 FP
ADI R0 -8
LDR R0 R0
MOV R1 FP
MOV FP SP
ADI SP -4
STR R1 SP
ADI SP -4
STR R0 SP
ADI SP -4
MOV R0 PC
ADI R0 36
STR R0 FP
JMP S0
MOV R0 FP
ADI R0 -8
LDR R1 R0
LDR R2 FP
MOV R3 FP
ADI R3 -4
LDR FP R3
STR R1 SP
JMR R2
M5 ADI SP -0
MOV R0 FP
ADI R0 -12
LDR R1 R0
MOV R2 FP
ADI R2 -12
LDR R3 R2
ADD R1 R3
MOV R4 FP
ADI R4 -16
STR R1 R4
MOV R0 FP
ADI R0 -16
LDR R1 R0
LDR R2 FP
MOV R3 FP
ADI R3 -4
LDR FP R3
STR R1 SP
JMR R2
LDR R0 FP
MOV R1 FP
ADI R1 -4
LDR FP R1
JMR R0
M7 ADI SP -0
MOV R0 FP
ADI R0 -12
LDR R1 R0
ADI R1 0
MOV R2 FP
ADI R2 -16
STR R1 R2
MOV R0 FP
ADI R0 -16
LDR R1 R0
LDR R1 R1
MOV R3 R1
TRP 1
LDB R0 H9
MOV R3 R0
TRP 3
MOV R0 FP
ADI R0 -8
LDR R0 R0
MOV R1 FP
MOV FP SP
ADI SP -4
STR R1 SP
ADI SP -4
STR R0 SP
ADI SP -4
MOV R0 FP
ADI R0 -4
LDR R1 R0
ADI R1 -16
LDR R1 R1
LDR R2 R1
STR R2 SP
ADI SP -4
MOV R0 PC
ADI R0 36
STR R0 FP
JMP M5
MOV R2 FP
ADI R2 -20
LDR R1 SP
STR R1 R2
MOV R0 FP
ADI R0 -20
LDR R1 R0
MOV R3 R1
TRP 1
LDR R0 FP
MOV R1 FP
ADI R1 -4
LDR FP R1
JMR R0
S0 ADI SP -0
LDR R0 FP
MOV R1 FP
ADI R1 -4
LDR FP R1
JMR R0
X12 ADI SP -8
MOV R0 FP
ADI R0 -8
LDR R0 R0
MOV R1 FP
MOV FP SP
ADI SP -4
STR R1 SP
ADI SP -4
STR R0 SP
ADI SP -4
MOV R0 PC
ADI R0 36
STR R0 FP
JMP S4
MOV R0 FP
ADI R0 -8
LDR R1 R0
ADI R1 0
MOV R2 FP
ADI R2 -20
STR R1 R2
MOV R0 FP
ADI R0 -20
LDR R1 R0
MOV R2 FP
ADI R2 -12
LDR R3 R2
STR R3 R1
MOV R0 FP
ADI R0 -8
LDR R1 R0
LDR R2 FP
MOV R3 FP
ADI R3 -4
LDR FP R3
STR R1 SP
JMR R2
S4 ADI SP -0
LDR R0 FP
MOV R1 FP
ADI R1 -4
LDR FP R1
JMR R0
F14 ADI SP -44
MOV R0 SL
ADI SL 4
MOV R1 FP
ADI R1 -20
STR R0 R1
MOV R0 FP
ADI R0 -20
LDR R1 R0
MOV R2 FP
MOV FP SP
ADI SP -4
STR R2 SP
ADI SP -4
STR R1 SP
ADI SP -4
LDR R0 N16
STR R0 SP
ADI SP -4
MOV R0 PC
ADI R0 36
STR R0 FP
JMP X12
MOV R2 FP
ADI R2 -24
LDR R1 SP
STR R1 R2
MOV R0 FP
ADI R0 -12
MOV R1 FP
ADI R1 -24
LDR R2 R1
STR R2 R0
MOV R0 SL
ADI SL 0
MOV R1 FP
ADI R1 -28
STR R0 R1
MOV R0 FP
ADI R0 -28
LDR R1 R0
MOV R2 FP
MOV FP SP
ADI SP -4
STR R2 SP
ADI SP -4
STR R1 SP
ADI SP -4
MOV R0 PC
ADI R0 36
STR R0 FP
JMP X4
MOV R2 FP
ADI R2 -32
LDR R1 SP
STR R1 R2
MOV R0 FP
ADI R0 -16
MOV R1 FP
ADI R1 -32
LDR R2 R1
STR R2 R0
MOV R0 FP
ADI R0 -16
LDR R1 R0
MOV R2 FP
MOV FP SP
ADI SP -4
STR R2 SP
ADI SP -4
STR R1 SP
ADI SP -4
MOV R0 FP
ADI R0 -4
LDR R1 R0
ADI R1 -12
LDR R2 R1
STR R2 SP
ADI SP -4
MOV R0 PC
ADI R0 36
STR R0 FP
JMP M7
MOV R2 FP
ADI R2 -40
LDR R1 SP
STR R1 R2
LDB R0 H9
MOV R3 R0
TRP 3
BEGIN1 MOV R0 FP
ADI R0 -12
LDR R1 R0
ADI R1 0
MOV R2 FP
ADI R2 -44
STR R1 R2
MOV R0 FP
ADI R0 -44
LDR R1 R0
LDR R1 R1
LDR R2 N19
CMP R1 R2
BRZ R1 L1
BLT R1 L1
LDR R3 ZERO
MOV R4 FP
ADI R4 -48
STR R3 R4
JMP L2
L1 LDR R3 ONE
MOV R5 FP
ADI R5 -48
STR R3 R5
L2 MOV R0 FP
ADI R0 -48
LDR R1 R0
BRZ R1 ENDWHILE2
MOV R0 FP
ADI R0 -44
LDR R1 R0
LDR R1 R1
MOV R3 R1
TRP 1
MOV R0 FP
ADI R0 -44
LDR R1 R0
LDR R1 R1
LDR R2 N20
ADD R1 R2
MOV R3 FP
ADI R3 -52
STR R1 R3
MOV R0 FP
ADI R0 -44
LDR R1 R0
MOV R2 FP
ADI R2 -52
LDR R3 R2
STR R3 R1
JMP BEGIN1
ENDWHILE2 LDR R0 FP
MOV R1 FP
ADI R1 -4
LDR FP R1
JMR R0
